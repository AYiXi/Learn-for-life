### *2020-09-01*
- [REALI]
  - 完成 `sitepoint` 外文站点的文章搬运
  - 对 bilibili 视频下载功能的开发
  - 修复 `flaviocopes` 外文博客的格式问题
  - 对线上服务器下载视频的测试安装环境
  - 帮助杨阳写 xpath 相关代码
- [LEARN]
  - 多个条件的格式优化
  ```py
  if all([i.tag not in ('img', 'a') for i in p.iterdescendants()]) and \
        not any([i.strip() for i in p.itertext()]):

  if (all([i.tag not in ('img', 'a') for i in p.iterdescendants()])
        and not any([i.strip() for i in p.itertext()])):

  if (len(url_list) > 1
        and outtmpl != '-'
        and '%' not in outtmpl
        and self.params.get('max_downloads') != 1):
    raise SameFileError(outtmpl)
  ```
  - kill t2.py all
    - ps -aux | grep t2.py | awk '{print $2}' | xargs kill
  - 统计有多少行: `ll | wc -l`
  - 学习下载视频的代码逻辑
  - 阅读学习 you-get, youtube-dl 源码

### *2020-09-02*
- [REALI]
  - 对知乎相关爬虫代码的检查调试上线
  - 对个人博客搬家和 github 博客搬家的检查
  - 在线上压力测试下载 B站 视频的并发数, 封 ip 的情况
    - 查看视频的正确性 (md5)
  - 修复 medium 站点标题未翻译的问题
  - 检查知乎站点更新的准确性
  - 修复 `sitepoint` 外文站点的格式问题
- [LEARN]
  - 按大小排序: ll -Sl (降序), ll -Slr (升序)
  - 已删除未释放空间: lsof | grep deleted (kill 相关进程) (yum install -y lsof)
  - 大文件的 md5
  ```py
  def get_md5(file_path):
      with open(file_path, 'rb') as f:
          md5_obj = md5()
          while True:
              block = f.read(8096)
              if not block:
                  break
              md5_obj.update(block)
      return md5_obj.hexdigest()
  ```

### *2020-09-03*
- [REALI]
  - 对 sitepoint 下载速度慢做图片处理优化, 只请求一次, 超时为 20s
  - 完成 `qq_16130715` 用户的个人博客搬家(29)
    - 此用户之前简书同步过一次, 导致 aid 用的简书那一套逻辑, 与 single 这套不符
    - aid 在 BLOG.expertarticle 里面
  - 完成 youtube 视频下载的第一版本, 对 bilibili, youtube 两个视频下载进行归类整合
- [LEARN]
  - from urllib.parse import parse_qs, parse_qsl
    - parse_qs: 'a=1&b=2' -> {'a': ['1'], 'b': ['2']}

### *2020-09-07*
- [REALI]
  - 完成 `liuxiaofeng1991` 用户的个人博客搬家(29)
    - url 中 `?` -> `\?`
  - 在香港服务器测试 youtube 视频下载的速度和是否会被封 ip
  - 下载 medium 站点的新的文章

### *2020-09-08*
- [REALI]
  - 对 youtube 和 bilibili 视频的爬虫逻辑进行开发
  - 对视频搬家数据库的设计
  - 对视频搬家项目结构的设计
  - 对 medium 站点的 bug 修复, 在新增 url 的时候, 不能更新已经存在的 username
- [LEARN]
  - 滑动到页面底部
    - medium: `window.scrollTo(0, document.body.scrollHeight);`
    - youtube: `window.scrollTo(0, document.documentElement.scrollHeight);`

### *2020-09-09*
- [REALI]
  - 完成 `qq_38080370` 用户的个人博客搬家(45)
  - 对视频下载搬家的数据库讨论和设计
  - 完成 `habr` 外文博客搬家第一版
  - 对视频搬家与 mysql 交互的书写
  - 开发 bilibili 视频搬家 playlist 的下载逻辑
- [LEARN]
  - [selenium 批量上传文件](https://mp.weixin.qq.com/s/WUFDWpKdN9cT427F8aVL8A)
  ```py
  import os
  from selenium.webdriver import Chrome
  folder = '/Users/kingname/test_send_keys/target'
  file_name_list = os.listdir(folder)
  path_list = [os.path.join(folder, x) for x in file_name_list]
  path_split_by_newline = '\n'.join(path_list)

  driver = Chrome('./chromedriver')
  driver.get('http://127.0.0.1:5000')
  file_input = driver.find_element_by_xpath('//input[@type="file"]')
  file_input.send_keys(path_split_by_newline)
  submit = driver.find_element_by_xpath('//input[@type="submit"]')
  submit.click()
  ```
  - 父类调用之类的方法名: `self.__class__.__name__`
  - PYTHONPATH:
    - win: PYTHONPATH=folder1;folder2
    - linux/mac: PYTHONPATH=folder1:folder2
  - mac 中 1 MB = 1,000 B = 1,000,000 Bytes = 1,000,000,000 Bit
  - 按照 GNU 的习惯，单纯的 K M G T 分别指代 KiB MiB GiB TiB 以 1024 进制数据量单位，用 KB MB GB TB 以 1000 进制数据量单位.

### *2020-09-10*
- [REALI]
  - 基本修复 `habr` 外文博客搬家的格式
  - 重构视频搬家
  - 配置香港服务器环境和相关 shell 参数等
  - 在线上初步完成对 youtube 的视频搬家
- [LEARN]
  - 多线程查询 mysql 会报错[?], 插入不会
  - Python 多继承的学习
  ```py
  class Youtube(VideoCrawlerBase, YoutubeBase):
      def __init__(self, max_workers=10, **kwargs):
          VideoCrawlerBase.__init__(self, site='youtube', **kwargs)
          YoutubeBase.__init__(self, **kwargs)
  ```

### *2020-09-11*
- [REALI]
  - 对 youtube 视频下载做容错处理以及上传完成后的删除处理
  - 完成 `u012874859` 用户的个人博客搬家(24)
  - 检查 youtube 视频下载
  - 基本完成抓取 b站 所有 up主的视频
  - 配置公司的 vpn, 配置 medium 站点的账户
- [LEARN]
  - 判断多个 isinstance((1,2), (list, tuple))