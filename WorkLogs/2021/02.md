### *2021-02-01*
- [REALI]
  - 重新运行 cods app 的抓取, 抓取之前报错的公司, 约 22w
  - cods APP
    - 更改到从 redis 做待爬取队列, redis.srem(key, value)
    - ip 错误的情况更改状态码为 500
  - 1688 站点
    - 研究店铺档案和店铺联系方式页的爬虫
- [LEARN]
  - [深度学习 GPU 利用率问题](https://www.hotbak.net/key/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0PyTorch%E4%B8%ADGPU%E5%88%A9%E7%94%A8%E7%8E%87%E8%BE%83%E4%BD%8E.html)
    - batchsize: 显存
    - workers: GPU 利用率
  - mysql left join
  - 以文件形式传输
    - 使用 BytesIO
  - 瑞数插件及其代理使用
    - 还有问题

### *2021-02-02*
- [REALI]
  - 尝试使用纯代码请求登录 1688 站点
  - 尝试使用 pyppeteer 模拟登录
  - 北京红网代码查看, 暂时无法修复

### *2021-02-03*
- [REALI]
  - 1688 站点分析
    - 需要的信息属于重要信息, 仅登录还不够, 还有一道防护
      - 如果状态异常, 会导致出现人手都过不去都滑块验证码, 目前还不清楚出发异常的状况
    - 参数分析, 模拟登录(基本完成)
      - 直接登录 1688, 会有滑动验证码
      - 采用通过登录淘宝, 跳转到 1688 的方式登录
    - 目前分析出 cookie 只需要两个关键参数
      - cookie2: 动态生成, 只登录拿不到, 像是 md5 值
      - x5sec: 动态生成, 只登录拿不到, 像是 RSA 加密后的值, 和生成登录时的密码加密参数差不多, 可能算法差不多
      - 只需要以上两个 cookie, 目前正在研究如何获取, 实效性等
- [LEARN]
  - [puppeteer 一些 API](https://www.qikegu.com/docs/4587) 
  - puppeteer cluster
  - [美团外卖抓包](https://zckun.github.io/2019/09/13/python-mtwm-capture/)
    - 移动长链接
  - HTTP ONLY 的 cookie 只能通过服务器设置, js 不能更改和查询
  - Jquery -> `$(input[class="c"])`
  - http2.0 和 http1.1 可能会影响请求结果
  - charles repeat 和 compose 的使用
  - firefox 安装证书
    - 导出证书到 .pem
    - perferenct -> privacy & security -> ceritificates -> view ceritificates -> import
  - github add collaborator
    - repository -> settings -> manage access -> invite a collaborator
  - requests 不能发送 http2 的请求

### *2021-02-04*
- [REALI]
  - 1688 尝试破解 js
  - 完成 1688 模拟登录
  - 尝试 1688 模拟滑动验证码

### *2021-02-05*
- [REALI]
  - 解密出一个滑动验证码的关键加密参数的生成方式
    - 但是每次生成都不一样, 暂不能判断是否正确, 以后可能想要纯代码实现
  - 模拟破解滑动验证码
    - 使用 selenium 模拟拖动多次(配合自己手动的生成的轨迹), 一直不能成功
    - 使用 puppyteer 模拟拖动
- [LEARN]
  - chrome dev 
    - copy(a) -> 复制到剪切板
  - selenium 滑动验证码一卡一卡的
    - https://blog.csdn.net/Jayj1997/article/details/103653630
    - selenium/webdriver/common/actions/pointer_input
      - 调试修改DEFAULT_MOVE_DURATION = 150 

### *2021-02-06*
- [REALI]
  - 1688 站点
    - 完成模拟破解滑动验证码
- [LEARN]
  - npm 安装指定版本包
    - npm i puppeteer@v1.7.2

### *2021-02-07*
- [REALI]
  - 测试1688 ip 封禁策略
    - 一个账号如果在不同 ip 上发出大约 45 次成功请求之后, 会被封禁
    - 在同一个 ip 下请求 45 次左右(或者时效 30 分钟, 加上延时也不管用), 也会被封禁
    - 之后需要隔一段时间(几分钟)重新登录
    - cookie 携带全和只携带验证信息结论一致
    - 请求同一网站和请求多个不同网站结论一致
    - 网上说可能会被封号(永久), 目前用的是自己的号测试, 暂未触及更严格的风控
  - 完善模拟登录逻辑(nodejs)
  - 优化验证码轨迹生成步骤
- [LEARN]
  - [puppeteer-cluster 学习了解](https://github.com/thomasdondorf/puppeteer-cluster)
  - pip install iredis
    - iredis -h r-2zew57npr5zbtjh4ns.redis.rds.aliyuncs.com -n 5 -a 'xxxxx'
    - keys cods*
  - console.log(array) 数组过长不显示 -> console.log(JSON.stringfy(array))
  - 阅读 puppeteer 官方文档